# integrated-circuit
Lab1:
內容描述:
一個簡易計算機，輸入 5 個數字和 3bit 的 operator 選擇，最後輸出選擇
的運算結果。
優化方向:
我在除法器的優化上，是利用 python 先去模擬找出除法運算的值域及定義
域，因此如果使用 MUX 來實作除法器，那樣就能少掉很多不必要的 MUX 輸
入，進而減少整體面積，我認為除法器的優化在這個 LAB 來說是很關鍵的
優化。

Lab2:
內容描述:
根據經典遊戲 2A1B，找出所有符合特定規格的輸入，乘上一個權重後的最
大組合。
優化方向:
這個 LAB 我使用了 python 去輸出 Verilog 程式碼，因為程式碼的量很大，
且內容重複性高，因此適合用其他高階語言去產生 verilog 程式碼，我也
是第一次使用到這個技巧，也是從這個實驗了解到，一個好的電路，跟程
式碼的多寡無關，有時候可能寫的更詳細，在 design compiler 那邊優化
的還會更好。

Lab3:
內容描述:
設計一個走迷宮電路，迷宮內有人質,陷阱,起點,終點，一開始會輸入整片
地圖，最後晶片要輸出一個走法，使得操縱的人物能從起點走到終點，並
解救所有人質。
優化方向:
這個 LAB 我嘗試了兩種走迷宮方法，一種是死路填充法，另一種是最基本
的隨機走法，就是遇到牆壁就退回，一開始以為死路填充法在已經有了完
整地圖的情況下，能走的快很多，但是在寫完後才發現其實沒有差很多，
因此最後還是選擇最基本的隨機走法，但是最後礙於時間的關係，沒辦法
優化太多電路，我也了解到一開始決定好演算法的重要性。

Lab4:
內容描述:
利用呼叫 module 的方式，實作晶片能夠做出 Relu, Leaky Relu, Sigmoid,
tanh 的 convolution 運算，最後再將運算結果排序後輸出。
優化方向:
主要是透過在輸入資料時，就開始計算之後要輸出的內容，之後在輸出之
前，再邊運算邊輸出，這樣不只可以省去計算後要儲存的空間，還可以減
少運算時間，因此我覺得這是一個很值得使用的技巧。

Lab5:
內容描述:
一開始輸入 4*4 或是 8*8 或是 16*16 的圖片到晶片，之後再根據選擇的運
算，去做出以下 8 個運算
1. Cross Correlation
2. Max Pooling
3. Horizontal Flip
4. Vertical Flip
5. Left-diagonal Flip
6. Right-diagonal Flip
7. Zoom-in,
8. Shortcut + Brightness Adjustment
優化方向:
透過 SRAM 去減少儲存的面積，而在 SRAM 的使用上，我採用 ping-pong 架
構，就是把一顆 SRAM 的內容，經過運算後輸出到另一顆 SRAM，這是礙於
SRAM 無法同時進行讀取與寫入，以及 SRAM 天生讀取速度較慢的情況下的
取捨。

Lab6:
內容描述:
實作出一個 RSA 加解密電路，透過輸入 2 個質數，經過運算得到其密碼，
並將輸入的資料解密。
優化方向:
由於有學過離散數學，因此透過化簡 modular 除法，找出輾轉相除所需的
最大次數，這樣就可以依據原本的公式進一步化簡，最後再實際應用在電
路上。
如要計算(n^m) mod p，則最多只需要計算 log2 m 次即可，之後便可以運將
前面計算過的結果拿來使用，可以大幅化簡

Lab7:
內容描述:
利用 AFIFO 完成在兩個不同 clock domain 的電路，要相互溝通的電路。
優化方向:
這部分我只有實作兩種不同方法，去比較他們的效能，第一種是先計算結
果後，傳到下一個 clock domain 的電路，這樣會造成第一個 clock
domain 需要花時間處理完才能送到下一個，而第二種是直接將輸入傳到第
二個 clock domain，之後在第二個 clock domain 運算，如此便需要多個
AFIFO 去傳送，由於方法一在 clock period 上不能選擇太快，而方法二面
積較大，因此一時也無法分析出優劣，因此最後直接時做出兩個版本來，
最後選擇分數較好的那個。

Lab8:
內容描述:
設計一個寶可夢遊戲，能輸入和輸出玩家資訊，以及購買,攻擊,販賣及使
用道具，並且將資料儲存於 DRAM 中。
優化方向:
這個 lab 我覺得最重要的就是處理好計算時間，畢竟每個指令的運算時間
都不長，如果有指令使用到 2 個 cycle 或以上就會使得整個效能相比其他
人落後很多，我覺得我在一開始對這方面不是很明確，因此在效能上不是
很理想，但是也因此學到了經驗。

Lab9:
內容描述:
寫 Lab8 的 pattern，並使之能通過 coverage 測試，並練習使用 assertion
來驗證電路。
優化方向:
由於該 lab 最重要的就是模擬時間，因此我先用紙筆列出能覆蓋所有要求
的最少測試 pattern 數，最後再跑模擬檢查想法是否正確。

Lab10:
內容描述:
寫兩個版本的電路，去比較 clock gating 有無的差別，最後再利用
Jasper gold 去檢查兩個電路是否在 sequential 或是 combinational 的情
況下都是等價的。
優化方向:
這個 lab 我花最多時間的部分就是減少 Jasper gold 驗證的時間，由於
Jasper gold 在電路複雜的時候，需要花費大量時間驗證，因此為了減少
電路複雜度花了蠻多時間，最後也因此在面積與 power 上都還蠻小的，而
優化的方向就是頃向用越少的暫存器越好，並且在 power gating 上，在
nWave 上面找到輸出跳動最少的暫存器，並在其穩定的時候將其 clk 關
掉，我覺得這是影響 power 最大的因素。

Lab11:
內容描述:
將助教提供的電路經過 APR，得到最後可以實際下線的晶片。
優化方向:
嘗試不同種的 chip size，並調整其不同參數，常見的問題不外乎 DRC/LVS
錯誤，或是在 timing 有問題，並且在任何一個階段 pre-clock 合成,clock
tree 合成,post-clock 合成都會可能有問題，因此只能花時間慢慢調整。

Lab12:
內容描述:
將助教給的電路，經過 APR 後，分析 voltage drop，並且不能讓電壓掉太
多。
優化方向:
將電源的 power 增加，或是放在靠中間的地方，如此就能讓 power 不會掉
太多，最後也很好符合 spec 要求。


Midterm / Final project:
內容描述:
由外部輸入感測器傳來解碼後的訊號，在晶片內部透過 sram 及 dram 去儲
存，並將結果進行去雜訊的步驟，之後再將完成的電路拿去跑 apr，最後
在 sign-off 階段所有 timing 都要是符合規定。
優化方向:
增加效能的方式是透過增加硬體平行度來達成，因為為了達成 throughput
要跟得上 input 的速度，所以在某些電路上有蠻多的平行計算，不過這也
導致面積偏大，我覺得如果有機會重新做的話，我會選擇將優化方向更著
重於 clock period 的優化。

